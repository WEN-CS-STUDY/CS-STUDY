index 의 정의 : 추가적인 공간을 활용하여 데이터베이스 테이블의 검색 성능을 향상시키기 위해서 사용하는 자료구조

SELECT *

FROM EMPLOYEE e

WHERE [e.name](http://e.name) = “송승우”

이런 경우 name 에 index 가 없는경우 full scan 을 수행하게 된다.

그럼 대부분의 열에 index 를 설정하면 성능이 많이 좋아지겠지?

→ index 는 정렬이 되어있도록 저장이 되어있다. 그럼 만약 삽입(insert) 가 자주 발생하는 테이블에 index를 설정한다면 어떻게 될까?

정렬을 유지하기 위해서 삽입(insert)를 할때마다 데이터를 넣어야할 위치를 찾고 넣는 과정을 거치는 오버헤드가 존재한다.

insert 뿐 아니라 delete, update 도 마찬가지로 오버헤드가 발생한다.

당연히 이보다 select 의 성능향상이 더 크지만, 보통 하나의 테이블에 너무 많은 index를 설정하는 것은 지양하는 것이 좋다.

그렇기 때문에 where 절이나 join, order by 에 자주 사용되는 컬럼에 index 를 설정하는게 좋고, 레코드가 자주 삽입되거나 변경, 삭제되는 테이블에는 index 를 많이 설정하는 것을 지양하는 것이 좋다.

where 절에서 항상 index 가 사용되는 것은 아니다.

where %…%    와 같이 앞부분이 고정되어있지 않는 경우는 index 를 사용할 수 없다.

where …%

- index 의 자료구조

저번에 말했듯이 B- 트리와 B+ 트리 등이 index 의 자료구조로 사용되는데 여기에 추가적으로 해시 테이블까지 있다.

먼저 B- 트리는 최대 자식이 2개 이상으로 높이를 낮춰 검색성능을 향상시킨 트리이고, B+ 트리는 여기에 리프노드에만 데이터를 넣고, 이 리프노드들이 Linked List 로 연결되어있어 범위계산에 효과적인 트리이다.

해시 테이블은 아시다시피 해시함수를 이용하여 어떠한 키값을 해시함수에 넣어 랜덤한 값으로 바꾸어 키로 사용하고 이 키를 통해 데이터를 찾는다. 이 경우에도 O(1) 으로 단일 값을 찾을 수 있지만, 범위제한을 통해 데이터를 검색하는 경우 해시함수의 결과는 예측할 수 없기 때문에 좋지 않다.